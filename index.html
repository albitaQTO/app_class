<!DOCTYPE HTML>

<html>
	<head>
		<title>Muestra en el mapa la ubicación del dispositivo</title>
		<script type="text/javascript" charset="utf-8" src="cordova.js"></script>
		<script type="text/javascript" charset="utf-8">
			document.addEventListener("deviceready", habilitarBoton, false);
			
			function habilitarBoton() {
			  var boton = document.getElementById('btnCamara');
			  boton.disabled = false;
			}
			
			//Tomar la foto
			function foto(imageData) {
			  var laImagen = document.getElementById('laFoto');
			  laImagen.style.display = 'block';
			  laImagen.src = "data:image/jpeg;base64," + imageData;
			}
			
			//Función indicada en el atributo cameraSuccess
			function llamarCamara() {
			  navigator.camera.getPicture(foto, error, { quality: 50, destinationType: Camera.DestinationType.DATA_URL });
			}
			
			//Función que se ejecuta si se produce un error
			function error(message) {
				alert('Ha fallado porque: ' + message);
			}
		</script>
	</head>
	<body>
		<h1>¡Vamos a hacer una foto!</h1>
		<button id="btnCamara" onclick="llamarCamara()" disabled > Llamar a la cámara </button>
		<br />
		<img id="laFoto" style="display: none; width: 100px; height: 100px;" src="" />
	</body>
</html>